{{template "head" .}}
<style>
    .center {
        display: block;
        margin-left: auto;
        margin-right: auto;
        text-align: center;
    }
</style>
{{template "body" .}}
{{template "content" .}}

<div class="container">

    <nav>
        <ul>
            <li><strong>GOFI</strong></li>
        </ul>
        <ul>
            <li>
                <details class="dropdown">
                    <summary aria-haspopup="listbox" role="link" class="contrast">Options</summary>
                    <ul dir="rtl">
                        <li>
                            <a href="#" data-theme-switcher="light">
                                Clair
                                <!-- sun -->
                                <svg width="24" height="24" viewBox="0 0 24 24"><use xlink:href="/img/icons.svg#feather-sun"></use></svg>
                            </a>
                        </li>
                        <li>
                            <a href="#" data-theme-switcher="dark">
                                Sombre
                                <!-- moon -->
                                <svg width="24" height="24" viewBox="0 0 24 24"><use xlink:href="/img/icons.svg#feather-moon"></use></svg>
                            </a>
                        </li>
                        {{if .Logged}}
                            <li>
                                <a href="/logout">
                                    Déconnexion
                                    <!-- user x -->
                                    <svg width="24" height="24" viewBox="0 0 24 24"><use xlink:href="/img/icons.svg#feather-user-x"></use></svg>
                                </a>
                            </li>
                        {{end}}
                    </ul>
                </details>
            </li>
        </ul>
    </nav>

    <figure>
        <img class="center" src="/img/gopherize-me-1.png" alt="Gopher"/>
        {{if .Logged}}
            <p class="center">
                Bienvenue <code>{{.Email}}</code>
                <!-- smile -->
                <svg width="24" height="24" viewBox="0 0 24 24" stroke="currentColor"><use xlink:href="/img/icons.svg#feather-smile"></use></svg>
            </p>
        {{end}}
    </figure>

    <section id="links">
        <h2>Fonctionnalités</h2>

        <aside><nav><ul>
        {{if .Logged}}
            <li><a href="/param-setup" role="button" class="contrast outline">
                <!-- tool -->
                <svg width="24" height="24" viewBox="0 0 24 24"><use xlink:href="/img/icons.svg#feather-tool"></use></svg>
                Paramétrer l'application
            </a></li>
            <li><a href="/insertrows" role="button" class="contrast">
                <!-- + square -->
                <svg width="24" height="24" viewBox="0 0 24 24"><use xlink:href="/img/icons.svg#feather-plus-square"></use></svg>
                Enregistrer des données
            </a></li>
            <li><a href="/transfer" role="button" class="contrast">
                <!-- fast forward -->
                <svg width="24" height="24" viewBox="0 0 24 24"><use xlink:href="/img/icons.svg#feather-fast-forward"></use></svg>
                Transfert entre comptes
            </a></li>
            <li><a href="/recurrentRecords" role="button" class="contrast">
                <!-- refresh clockwise -->
                <svg width="24" height="24" viewBox="0 0 24 24"><use xlink:href="/img/icons.svg#feather-refresh-cw"></use></svg>
                Enregistrements réguliers
            </a></li>
            <li><a href="/validaterows" role="button" class="contrast outline">
                <!-- check-square -->
                <svg width="24" height="24" viewBox="0 0 24 24" stroke="currentColor"><use xlink:href="/img/icons.svg#feather-check-square"></use></svg>
                Valider / 
                <!-- x square -->
                <svg width="24" height="24" viewBox="0 0 24 24" stroke="currentcolor"><use xlink:href="/img/icons.svg#feather-x-square"></use></svg>
                Annuler
            </a></li>
            <li><a href="/editrows" role="button" class="contrast outline">
                <!-- search -->
                <svg width="24" height="24" viewBox="0 0 24 24" stroke="currentColor"><use xlink:href="/img/icons.svg#feather-search"></use></svg>
                Rechercher des données
            </a></li>
            <li><a href="/stats" role="button" class="contrast outline">
                <!-- pie-chart -->
                <svg width="24" height="24" viewBox="0 0 24 24" stroke="currentColor"><use xlink:href="/img/icons.svg#feather-pie-chart"></use></svg>
                Statistiques
            </a></li>
        {{else}}
            <li><a href="/createUser" role="button" class="contrast outline">
                <!-- user plus -->
                <svg width="24" height="24" viewBox="0 0 24 24"><use xlink:href="/img/icons.svg#feather-user-plus"></use></svg>
                Créer un compte
            </a></li>
            <li><a href="/login" role="button" class="contrast">
                <!-- user check -->
                <svg width="24" height="24" viewBox="0 0 24 24"><use xlink:href="/img/icons.svg#feather-user-check"></use></svg>
                Se connecter
            </a></li>
        {{end}}
        </ul></nav></aside>

        {{if .Logged}}
            <hr>
            <h5>Gestion des données via fichier CSV</h5>
            <aside><nav><ul>
                <li><a href="/export-csv" role="button" class="contrast outline">
                    <!-- file text -->
                    <svg width="24" height="24" viewBox="0 0 24 24"><use xlink:href="/img/icons.svg#feather-file-text"></use></svg>
                    Exporter en CSV
                </a></li>
                <li><a href="/import-csv" role="button" class="contrast outline">
                    <!-- file text -->
                    <svg width="24" height="24" viewBox="0 0 24 24"><use xlink:href="/img/icons.svg#feather-file-text"></use></svg>
                    Importer via CSV
                </a></li>
            </ul></nav></aside>

            {{if .Admin}}
                <hr>
                <h5>Administration</h5>
                <aside><nav><ul>
                    <li><a href="/admin/backup" role="button" class="secondary outline">
                        <!-- database -->
                        <svg width="24" height="24" viewBox="0 0 24 24"><use xlink:href="/img/icons.svg#feather-database"></use></svg>
                        Gérer les backups
                    </a></li>
                    <li><a href="/admin/backup?save=1" role="button" class="secondary outline">
                        <!-- upload cloud -->
                        <svg width="24" height="24" viewBox="0 0 24 24"><use xlink:href="/img/icons.svg#feather-upload-cloud"></use></svg>
                        <!-- database -->
                        <svg width="24" height="24" viewBox="0 0 24 24"><use xlink:href="/img/icons.svg#feather-database"></use></svg>
                        Générer backup DB SQLite
                    </a></li>
                </ul></nav></aside>
            {{end}}
        {{end}}
    </section>
    
    <section id="info">
        <hr>
        <h5>Infos</h5>
        <small>
            Fait avec
                • <a target="_blank" href="https://www.sqlite.org/">sqlite</a>
                • <a target="_blank" href="https://go.dev/">golang </a>
                • <a target="_blank" href="https://htmx.org/">htmx</a>
                • <a target="_blank" href="https://picocss.com/">pico css</a>
            <br>
            Logo • <a target="_blank" href="https://gopherize.me/">gopherize.me</a><br>
            Graphiques • <a target="_blank" href="https://apexcharts.com/">apexcharts</a><br>
            Icônes 
                • <a target="_blank" href="https://feathericons.com/">feather</a> 
                • <a target="_blank" href="https://lucide.dev/">lucide</a>
                • <a target="_blank" href="https://icomoon.io/">icomoon</a>
            <br>
            Code source • <a target="_blank" href="https://github.com/BenjaminMary/gofi/">github</a>
        </small>
    </section>
</div>
<!-- end main, body, html section usually ended with the footer template -->
</main>
    <!-- Minimal theme switcher -->
    <script src="/js/minimal-theme-switcher.js"></script>
</body>
</html>